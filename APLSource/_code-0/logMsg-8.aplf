 logMsg←{⍺←⊢
     null⊢ms←ntbs if≡⍵:ms
     hd←nout{⍵(⍵⊢¨'=')}⍺⊣''
     da←hd,ms
     dt←DT.(dt2fm ts2dt ⎕TS),' '
     SV.errmsgs,←da/⍨'!'=⊃¨da  ⍝ reset in userCmdRun
     ⍵⊣dd←MP.log{(⊢↑⍨1000⌊≢)⍵,⍺}←dt∘,¨da
⍝ fd←⊃,/,∘UT.(CR LF),¨dd
⍝ dd⊣⎕NUNTIE fd(⊢⊣⎕NAPPEND)SV.logfile ⎕NTIE 0

⍝   MP←{⍵⊣⍵._←,¨''}⎕SE.⎕NS'' ⍝ setEnvironment
⍝ [⍺]   header to be underlined if present
⍝  ⍵    msg(s) string, list or mat
⍝  ←    ⍵ having displayed date,⍵ in log window
⍝ Phil 2018-11-14 15.58
 }
